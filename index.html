<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Buscar</title>
    <link rel="stylesheet" href="styles.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/js/all.min.js" defer></script>
    <script src="https://www.youtube.com/iframe_api" defer></script>
</head>
<body>
    <main id="main-content">
      <!-- Apartado de Inicio -->
<section id="home-section" class="section">
    <link rel="stylesheet" href="home section.css">    
    <h1>Spottrack 3.3</h1>

<!-- Sección de Novedades -->
<div class="news-section">
    <div class="news-carousel">
        <img src="images/novedad1.jpg" alt="Novedad 1" class="active">
        <img src="images/novedad2.jpg" alt="Novedad 2">
        <img src="images/novedad3.jpg" alt="Novedad 3">
    </div>
</div>
<script src="news section.js"></script>
<link rel="stylesheet" href="news section.css">


<!-- Sección de Canciones Populares -->
<link rel="stylesheet" href="top songs.css">

<div class="popular-songs">
    <h2 class="section-title">Artistas Tops 2024</h2>
    <ul>
        <li>
            Mejor - Emilia Mernes
            <span class="ranking top-1">Top 1</span>
        </li>
        <li>
            Mejor - María Becerra
            <span class="ranking top-2">Top 2</span>
        </li>
        <li>
            Mejor - Nicki Nicole
            <span class="ranking top-3">Top 3</span>
        </li>
    </ul>
</div>
<p>‎ </p>
<!-- Eventos seccion -->
<div class="events-section">
    <h2 class="section-title">Eventos</h2>
    <div class="events-toggle">
        <button id="toggle-button">
            <span>‎ ‎ ‎ ‎ ‎ ‎ ‎ ‎ ‎ ‎‎ ‎ ‎ ‎ ‎ ‎ Seleccionar Evento</span> <i class="arrow-down">▼</i>
        </button>
        <div id="event-options" class="hidden">
            <button class="event-option" data-type="spottrack">Eventos de Spottrack</button>
            <button class="event-option" data-type="artist">Eventos de Artistas</button>
        </div>
    </div>

    <div id="event-content">
        <!-- Eventos de SpotTrack -->
        <ul id="spottrack-events">
            <li>
                <img src="images/spottrack1.jpg" alt="SpotTrack Music Fest" class="event-img">
                <div>
                    <strong>Sorteo Premium</strong>
                    <p>🎉¡Este mes y el siguiente estaremos sorteando Spottrack Premium en nuestro servidor de Discord! 🎉

                        Habrá 3 ganadores, y los resultados se anunciarán el 28 de febrero. ¡No pierdas la oportunidad de ser uno de los afortunados! 🍀
                        
                        ¡Suerte a todos! 😎✨</p>
                </div>
            </li>
            <li>
                <img src="images/spottrack2.jpg" alt="SpotTrack Live Party" class="event-img">
                <div>
                    <strong>Sin evento</strong>
                    <p>El ultimo evento finalizo el 22/2/2025 ¡Pronto nuevos eventos!</p>
                </div>
            </li>
        </ul>
        <!-- Eventos de Artistas -->
        <ul id="artist-events" class="hidden">
            <li>
                <img src="images/artist1.jpg" alt="Coldplay en Concierto" class="event-img">
                <div>
                    <strong>Ultra buenos aires</strong>
                    <p>El festival Ultra vuelve a Buenos Aires en 2025. Luego de 10 años, el viernes 18 y sábado 19 de abril se llevará a cabo una nueva edición en el Parque de la Ciudad. Y ya se conocen los primeros nombres del line-up. Adam Beyer, Black Coffee y Martin Garrix forman parte del line-up de Ultra Buenos Aires 2025</p>
                </div>
            </li>
            <li>
                <img src="images/artist2.jpg" alt="Festival Primavera Sound" class="event-img">
                <div>
                    <strong>Lollapalooza 2025</strong>
                    <p>El festival Lollapalooza 2025 en Argentina se llevará a cabo del 21 al 23 de marzo en el Hipódromo de San Isidro, en Buenos Aires Fecha 21 22 y 23 de marzo de 2025</p>

<script src="event.js"></script>
<link rel="stylesheet" href="event.css">

                </div>
            </li>
        </ul>
    </div>
</div>     

<p>‎‎ <p>
    <link rel="stylesheet" href="redes.css">
        <div class="social-links">
    <button class="social-btn" onclick="window.location.href='https://discord.gg/gkhFs4AUn6'">
        <img src="images/discord-icon.png" alt="Discord">
    </button>
    <button class="social-btn" onclick="window.location.href='https://spottrack-web.github.io'">
        <img src="images/spottrack-icon.png" alt="Spottrack Web">
    </button>
    <button class="social-btn" onclick="window.location.href='https://patreon.com/Spottrack'">
        <img src="images/donation-icon.png" alt="Donar">
    </button>
</div>
<p>‎ </p>
</div>

</div>

      </section>
  </main>


        <!-- Apartado de Buscar -->
         <link rel="stylesheet" href="search.css">
<section id="search-section" class="section hidden">
    <div id="warning-message" class="warning-message" style="display: none;"></div>
    <header>
        <h1>Buscar</h1>
        <div class="search-container">
            <input type="text" id="search-input" placeholder="Buscar canciones...">
            <button id="search-button">Buscar</button>
        </div>
    </header>
    <section id="search-results">
        <ul id="result-list"></ul>
    </section>
    <section id="player">
        <div id="youtube-player"></div>
        <div id="song-info">
            <h3 id="song-title">Nada agregado</h3>
            <p id="artist-name">Busca una canción</p>
        </div>
        <div class="controls">
            <button id="prev-button" class="control-button"><i class="fas fa-backward"></i></button>
            <button id="playpause-button" class="control-button"><i class="fas fa-play"></i></button>
            <button id="next-button" class="control-button"><i class="fas fa-forward"></i></button>
        </div>
        <input id="seek-bar" type="range" value="0" min="0" step="1">
        <div id="current-time">0:00</div> / <div id="duration">0:00</div>

<!-- Botón para activar el menú de personalización -->
<button id="edit-timing">
    <i class="fas fa-pencil-alt" style="font-size: 20px;"></i>  <!-- Ícono de lápiz -->
</button>


<!-- Menú emergente para establecer el rango de tiempo -->
<div id="timing-modal">
    <h2>Personalizar Cancion</h2>
    <label for="start-time">Inicio:</label>
    <input type="text" id="start-time" placeholder="00:00" maxlength="5">
    <label for="end-time">Fin:</label>
    <input type="text" id="end-time" placeholder="00:00" maxlength="5">
    <button id="save-timing">Guardar</button>
    <button id="cancel-timing">Cancelar</button>
</div>



<script src="edition.js"></script>
<link rel="stylesheet" href="edition time.css">

    </section>
</section>
<p>‎ </p>

        <!-- Apartado de Playlist -->
        <section id="playlist-section" class="section hidden">
            <h1></h1>
</h1>

<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Spottrack - Lista de Canciones</title>
    <link rel="stylesheet" href="library music.css">
</head>
<body>
    <div class="song-container">
        <h2>Mi Biblioteca de Música</h2>
        <p id="no-songs">No hay lista de canciones</p>
        <ul id="song-list"></ul>
        <button class="add-song-button" onclick="document.getElementById('file-input').click();">Añadir Canción</button>
        <input type="file" id="file-input" accept="audio/*" style="display: none;" onchange="handleFileSelect(event)">
    </div>

    <script src="library music.js"></script>
</body>
</html>

</html>

</html>

        </section>

<!-- Apartado de Ajustes -->
<section id="settings-section" class="section hidden">
    <!DOCTYPE html>
    <html lang="es">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Spottrack - Iniciar Sesión</title>
        <link rel="stylesheet" href="firebase.css">
        <script type="module">
            // Firebase Configuración
            import { initializeApp } from "https://www.gstatic.com/firebasejs/9.1.2/firebase-app.js";
            import { getAuth, signInWithEmailAndPassword, signOut, onAuthStateChanged } from "https://www.gstatic.com/firebasejs/9.1.2/firebase-auth.js";
            import { getFirestore, doc, getDoc, updateDoc } from "https://www.gstatic.com/firebasejs/9.1.2/firebase-firestore.js";
            import { getStorage, ref, uploadBytes, getDownloadURL } from "https://www.gstatic.com/firebasejs/9.1.2/firebase-storage.js";
    
            // Configuración de Firebase
            const firebaseConfig = {
                apiKey: "AIzaSyABdWdjdSTf33W6zaInDznc8HUWZE2KZ6w",
                authDomain: "spottrack-888de.firebaseapp.com",
                projectId: "spottrack-888de",
                storageBucket: "spottrack-888de.appspot.com",
                messagingSenderId: "641511662246",
                appId: "1:641511662246:web:c4c3225daae5edf4ea4a67"
            };
    
            // Inicialización de Firebase
            const app = initializeApp(firebaseConfig);
            const auth = getAuth(app);
            const db = getFirestore(app);
            const storage = getStorage(app);
    
            // Manejo de Estado de Autenticación
onAuthStateChanged(auth, async (user) => {
    if (user) {
        document.getElementById("login-container").style.display = "none";
        document.getElementById("perfil-container").style.display = "block";

        const userDoc = await getDoc(doc(db, "usuarios", user.uid));
        if (userDoc.exists()) {
            const userData = userDoc.data();
            document.getElementById("username").innerText = userData.nombre || "Usuario";
            document.getElementById("profile-img").src = userData.foto || "";
            document.getElementById("plus-icon").style.display = userData.foto ? "none" : "block";

            const premiumStatus = document.getElementById("premium-status");
            const premiumDescription = document.getElementById("premium-description");
            const paypalContainer = document.getElementById("paypal-button-container");

            if (userData.premium) {
                premiumStatus.innerText = "Spottrack Premium: Activa";
                premiumStatus.style.color = "green";
                premiumStatus.style.fontWeight = "bold";
                
                premiumDescription.style.display = "none"; // Ocultar descripción
                paypalContainer.style.display = "none"; // Ocultar botón de PayPal
            } else {
                premiumStatus.innerText = "Spottrack Premium";
                premiumStatus.style.color = "white";
                premiumStatus.style.fontWeight = "normal";

                premiumDescription.style.display = "block"; // Mostrar descripción
                paypalContainer.style.display = "block"; // Mostrar botón de PayPal
            }
        }
    } else {
        document.getElementById("login-container").style.display = "block";
        document.getElementById("perfil-container").style.display = "none";
    }
});

    
            // Inicio de Sesión
document.getElementById("loginBtn").addEventListener("click", async () => {
    const email = document.getElementById("login-email").value;
    const password = document.getElementById("login-password").value;
    const mensajeLogin = document.getElementById("mensajeLogin");

    // Verificar si los campos de correo y contraseña están completos
    if (!email || !password) {
        mensajeLogin.innerText = "Por favor, completa todos los campos.";
        mensajeLogin.style.color = "red";
        return;
    }

    // Verificar si el reCAPTCHA fue completado
    const recaptchaResponse = grecaptcha.getResponse(); // Obtener la respuesta del reCAPTCHA

    if (recaptchaResponse.length === 0) {
        mensajeLogin.innerText = "Por favor, completa el reCAPTCHA.";
        mensajeLogin.style.color = "red";
        return;
    }

    // Mostrar mensaje de "Iniciando sesión..."
    mensajeLogin.innerText = "Iniciando sesión...";
    mensajeLogin.style.color = "blue";

    try {
        // Intentar iniciar sesión con Firebase
        await signInWithEmailAndPassword(auth, email, password);

        // Ocultar el contenedor de login y mostrar el contenedor de perfil
        document.getElementById("login-container").style.display = "none";
        document.getElementById("perfil-container").style.display = "block";
    } catch (error) {
        // Mostrar mensaje de error si la autenticación falla
        mensajeLogin.innerText = "Error: " + error.message;
        mensajeLogin.style.color = "red";
    }
});

    
            // Cambio de Foto de Perfil
            document.getElementById("change-photo").addEventListener("click", () => {
                document.getElementById("file-input").click();
            });
    
            // Subir Foto de Perfil
            document.getElementById("file-input").addEventListener("change", async (event) => {
                const file = event.target.files[0];
                if (file && file.type.startsWith("image/")) {
                    const storageRef = ref(storage, `profile_pictures/${auth.currentUser.uid}`);
                    const uploadResult = await uploadBytes(storageRef, file);
                    const photoURL = await getDownloadURL(uploadResult.ref);
    
                    await updateDoc(doc(db, "usuarios", auth.currentUser.uid), { foto: photoURL });
                    document.getElementById("profile-img").src = photoURL;
                    document.getElementById("plus-icon").style.display = "none";
                } else {
                }
            });
    
            // Cambio de Nombre de Usuario
            document.getElementById("change-username").addEventListener("click", () => {
                document.getElementById("change-username-container").style.display = "block";
            });
    
            // Guardar Nuevo Nombre de Usuario
            document.getElementById("save-username").addEventListener("click", async () => {
                const newUsername = document.getElementById("new-username").value;
                if (newUsername.trim() !== "") {
                    await updateDoc(doc(db, "usuarios", auth.currentUser.uid), { nombre: newUsername });
                    document.getElementById("username").innerText = newUsername;
                    document.getElementById("change-username-container").style.display = "none";
                } else {
                    alert("El nombre no puede estar vacío.");
                }
            });
    
            // Cerrar Sesión
            document.getElementById("logoutBtn").addEventListener("click", () => {
                signOut(auth).then(() => {
                    document.getElementById("perfil-container").style.display = "none";
                    document.getElementById("login-container").style.display = "block";
                });
            });
    
            // Integración con PayPal para Spottrack Premium
            paypal.Buttons({
                style: { shape: 'pill', color: 'gold', layout: 'vertical', label: 'subscribe', height: 40 },
                createSubscription: function(data, actions) {
                    return actions.subscription.create({ plan_id: 'P-6GC75737B9128194DM6R5U3Y' });
                },
                onApprove: async function(data, actions) {
                    const user = auth.currentUser;
                    if (user) {
                        const expiration = Date.now() + 30 * 24 * 60 * 60 * 1000;
                        await updateDoc(doc(db, "usuarios", user.uid), { premium: true, expira: expiration });
    
                        document.getElementById("paypal-button-container").style.display = "none";
                        document.getElementById("premium-status").innerText = "Spottrack Premium: Activa";
                    }
                }
            }).render('#paypal-button-container');
        </script>
    </head>
    <body>
        <!-- Panel de Inicio de Sesión -->
        <div class="container login-container" id="login-container">
            <h2>Iniciar Sesión</h2>
            <input type="email" id="login-email" placeholder="Correo electrónico">
            <input type="password" id="login-password" placeholder="Contraseña">

      <!-- Cargar el script de reCAPTCHA -->
<script src="https://www.google.com/recaptcha/api.js" async defer></script>


<!-- Formulario con reCAPTCHA -->
<form action="/tu_backend" method="POST">
    <!-- Otros campos del formulario, como correo y contraseña -->

    <!-- El widget reCAPTCHA -->
    <div class="g-recaptcha" data-sitekey="6LfVo-EqAAAAAKnO-lj24zrEW9N7f0pwokBrMQYf"></div>
</form>


<style>/* Estilo específico para el reCAPTCHA */
    .g-recaptcha {
        width: 93% !important; /* Asegura que se ajuste al ancho del formulario */
        margin-top: 10px;
        margin-bottom: 10px;
        display: flex;
        justify-content: center; /* Centra el recaptcha en su contenedor */
    }
    
    /* Opcional: ajustar el tamaño del contenedor reCAPTCHA si sigue sobresaliendo */
    .g-recaptcha iframe {
        transform: scale(90%); /* Ajusta el tamaño para que se vea más pequeño si es necesario */
        transform-origin: 1 0; /* Mantiene la alineación en la esquina superior izquierda */
    }</style>

            <button id="loginBtn">Iniciar Sesión</button>
            <p>‎ </p>
            <p class="mensaje" id="mensajeLogin"></p>
            <p class="registro-link">¿No tienes cuenta? <a href="https://spottrack-web.github.io">Crea una ya</a></p>
        </div>
    
        <!-- Panel de Perfil -->
        <div class="container perfil-container" id="perfil-container" style="display: none;">
            <h2>Perfil</h2>
            <p>‎ </p>
            <p>‎ </p>
            <div class="profile-picture" id="profile-container">
                <img id="profile-img" src="" alt="Foto de perfil" class="empty">
                <span id="plus-icon">+</span>
                <input type="file" id="file-input" accept="image/png" style="display: none;">
            </div>
            <p>‎ </p>
            <h3 id="username">Nombre del Usuario</h3>
            <p>‎ </p>
            <button id="change-photo">Cambiar Foto de Perfil</button>
    
            <!-- Cambio de Nombre de Usuario -->
            <div id="change-username-container" style="display: none;">
                <input type="text" id="new-username" placeholder="Nuevo Nombre de Usuario">
                <button id="save-username">Guardar</button>
            </div>
    
            <button id="change-username">Cambiar Nombre de Usuario</button>
            <button id="logoutBtn" class="logout">Cerrar Sesión</button>
    
            <div class="premium-panel">
                <h3 id="premium-status">Spottrack Premium</h3>
                <p>‎ </p>
                <p id="premium-description">Mejora tu experiencia con Spottrack Premium por tan solo 0,95 USD al mes.</p>
                <p>‎ </p>
                <div id="paypal-button-container"></div>
            </div>
            
    
            
    
        <!-- Scripts -->
        <script src="https://www.paypal.com/sdk/js?client-id=AXxgsqCoEER-XS1VOEgzeABCMh9P_YOD2kNjAy9fkJsFdI1ZJGG3_0TIXkOQY-gJC4fcz4K907auxIxC&vault=true&intent=subscription"></script>
    </body>
    </html>
      
<p>________________________________</p>
<p>‎ 
  <h2>‎ ‎Ajustar reproduccion</h2>
<!-- Opción para detener música cuando el dispositivo se apaga -->
 <script src="segundo plano.js"></script>
<div class="settings-option">
    <div class="toggle-container">
        <label for="pause-on-lock">Cancion en segundo plano</label>
        <input type="checkbox" id="pause-on-lock" checked>
        <span class="icon"></span>
    </div>
</div>

<!-- Opción de ahorro de datos -->
 <script src="ahorro de datos.js"></script>
<div class="settings-option">
    <div class="toggle-container">
        <label for="data-saving-mode">Economizador de datos</label>
        <input type="checkbox" id="data-saving-mode">
        <span class="icon"></span>
    </div>
</div>

<p>________________________________</p>
<p>‎ </p>
<h2>Reproduccion Premium</h2>

<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sleep Timer</title>
    <link rel="stylesheet" href="sleep timer.css">
</head>
<body>
    <!-- Opción de Sleep Timer -->
    <div class="settings-option">
        <div class="toggle-container">
            <label for="sleep-timer-toggle">Sleep Timer</label>
            <input type="checkbox" id="sleep-timer-toggle">
            <span class="icon"></span>
        </div>
    </div>

    <!-- Menú flotante del Sleep Timer -->
    <div id="sleep-timer-menu" class="sleep-timer-menu" style="display: none;">
        <h3>Configurar Sleep Timer</h3>

        <!-- Configuración personalizada -->
        <div class="custom-time">
            <label>Tiempo personalizado</label>
            <input type="number" id="custom-hours" placeholder="Horas" min="0" max="24">
            <input type="number" id="custom-minutes" placeholder="Minutos" min="0" max="59">
            <input type="number" id="custom-seconds" placeholder="Segundos" min="0" max="59">
        </div>

        <!-- Botones Aceptar / Cancelar alineados -->
        <div class="buttons">
            <button onclick="setCustomSleepTimer()" class="accept-btn">Aceptar</button>
            <button onclick="cancelSleepTimer()" class="cancel-btn">Cancelar</button>
        </div>

        <!-- Mensaje de confirmación -->
        <p id="confirmation-message" class="confirmation-message"></p>
    </div>

    <script>
        let sleepTimer;
        let isSleepTimerActive = false;

        document.getElementById("sleep-timer-toggle").addEventListener("change", function() {
            const menu = document.getElementById("sleep-timer-menu");
            const premiumStatus = document.getElementById("premium-status").innerText.trim();

            if (!premiumStatus.includes("Spottrack Premium: Activa")) {
                alert("Necesitas Spottrack Premium para usar esta función.");
                this.checked = false; // Desactiva el toggle
                return;
            }

            if (isSleepTimerActive) {
                cancelSleepTimer();
            } else {
                menu.style.display = this.checked ? "block" : "none";
            }
        });

        function setCustomSleepTimer() {
            let hours = parseInt(document.getElementById("custom-hours").value) || 0;
            let minutes = parseInt(document.getElementById("custom-minutes").value) || 0;
            let seconds = parseInt(document.getElementById("custom-seconds").value) || 0;

            if (hours > 24 || (hours === 24 && (minutes > 59 || seconds > 59))) {
                alert("El tiempo máximo permitido es 24h 59m 59s.");
                return;
            }

            let totalSeconds = (hours * 3600) + (minutes * 60) + seconds;

            if (totalSeconds > 0 && totalSeconds <= 89999) {
                startSleepTimer(totalSeconds);
            } else {
                alert("Por favor, introduce un tiempo válido (máx. 24h 59m 59s).");
            }
        }

        function startSleepTimer(seconds) {
            clearTimeout(sleepTimer);
            sleepTimer = setTimeout(() => {
                location.reload();
            }, seconds * 1000);

            let confirmationMessage = document.getElementById("confirmation-message");
            confirmationMessage.textContent = `Sleep Timer activado. La app se reiniciará en ${Math.floor(seconds / 60)} minutos.`;
            confirmationMessage.style.opacity = "1";

            setTimeout(() => {
                confirmationMessage.style.opacity = "0"; 
                document.getElementById("sleep-timer-menu").style.display = "none"; 
            }, 2000); 

            isSleepTimerActive = true;
        }

        function cancelSleepTimer() {
            clearTimeout(sleepTimer);
            isSleepTimerActive = false;
            document.getElementById("sleep-timer-toggle").checked = false;
            document.getElementById("sleep-timer-menu").style.display = "none";
        }
    </script>
</body>
</html>





</html>
</section>
  </main>
<p>‎ ‎ 
<p>‎ 

    <div class="bottom-bar">
    <button class="tab" id="home-tab">
        <i class="fas fa-home"></i> <p>Inicio
    </button>
    <button class="tab" id="search-tab">
        <i class="fas fa-search"></i> <p>Buscar
    </button>
    <button class="tab" id="playlist-tab">
        <i class="fas fa-folder"></i> <p>Playlist
    </button>
    <button class="tab" id="settings-tab">
        <i class="fas fa-cog"></i> <p>Ajustes
    </button>
</div>

      <div id="error-message">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
        <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-2h2v2zm0-4h-2V7h2v6z" />
    </svg>
</div>
<p>‎ </p>
    </div>
    <script src="script.js"></script>
</body>
  </html>

<!-- Elementos de audio para los sonidos de error y advertencia -->
<audio id="error-sound" src="sounds/error.mp3"></audio>
<audio id="warning-sound" src="sounds/warning.mp3"></audio>

    <!-- Mensaje de bienvenida -->
    <div id="welcomeMessage" class="welcome-message">¡¡¡Bienvenido/a de vuelta a Spottrack!!!</div>
    
    <!-- El elemento de audio -->
    <audio id="welcomeSound" src="sounds/welcome.mp3"></audio>
    
    <!-- Enlace al archivo JS externo -->
    <script src="scripts.js"></script>

<!-- Mensaje de no ay conexion -->
</body>
</html>
<div id="no-connection-warning" style="display: none;"></div>
<script src="conection error.js"></script>
<link rel="stylesheet" href="conection.css"